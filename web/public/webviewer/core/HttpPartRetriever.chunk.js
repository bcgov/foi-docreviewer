/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{519:function(wa,ta,r){r.r(ta);r.d(ta,"ByteRangeRequest",function(){return w});var pa=r(0),na=r(1);r.n(na);var oa=r(3),ia=r(177);wa=r(113);var ja=r(295),ha=r(90),y=r(87),x=r(294),f=r(195);r=r(440);var e=[],b=[],a=window,h=function(){return function(){this.Lo=1}}(),n;(function(aa){aa[aa.UNSENT=0]="UNSENT";aa[aa.DONE=4]="DONE"})(n||(n={}));var w=function(){function aa(fa,ca,ea,ba){var ma=this;this.url=fa;this.range=ca;this.ig=ea;
this.withCredentials=ba;this.Nca=n;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");ba&&(this.request.withCredentials=ba);z.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(ca.stop)?this.request.setRequestHeader("Range","bytes="+ca.start):this.request.setRequestHeader("Range",["bytes=",ca.start,"-",ca.stop-1].join("")));ea&&Object.keys(ea).forEach(function(la){ma.request.setRequestHeader(la,ea[la])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=x.a.NOT_STARTED}aa.prototype.start=function(fa){var ca=this,ea=this.request;ea.onreadystatechange=function(){if(ca.aborted)return ca.status=x.a.ABORTED,fa({code:x.a.ABORTED});if(this.readyState===ca.Nca.DONE){ca.YG();var ba=0===window.document.URL.indexOf("file:///");200===ea.status||206===ea.status||ba&&0===ea.status?(ba=a.L1(this),ca.MT(ba,fa)):(ca.status=
x.a.ERROR,fa({code:ca.status,status:ca.status}))}};this.request.send(null);this.status=x.a.STARTED};aa.prototype.MT=function(fa,ca){this.status=x.a.SUCCESS;if(ca)return ca(!1,fa)};aa.prototype.abort=function(){this.YG();this.aborted=!0;this.request.abort()};aa.prototype.YG=function(){var fa=Object(f.c)(this.url,this.range,b);-1!==fa&&b.splice(fa,1);if(0<e.length){fa=e.shift();var ca=new aa(fa.url,fa.range,this.ig,this.withCredentials);fa.request=ca;b.push(fa);ca.start(Object(f.d)(fa))}};aa.prototype.extend=
function(fa){var ca=Object.assign({},this,fa.prototype);ca.constructor=fa;return ca};return aa}(),z=function(aa){function fa(ca,ea,ba,ma,la){ba=aa.call(this,ca,ba,ma)||this;ba.Ik={};ba.qF=ea;ba.url=ca;ba.DISABLE_RANGE_HEADER=!1;ba.RB=w;ba.dV=3;ba.ig=la||{};return ba}Object(pa.c)(fa,aa);fa.prototype.mz=function(ca,ea,ba){var ma=-1===ca.indexOf("?")?"?":"&";switch(ba){case !1:case y.a.NEVER_CACHE:ca=ca+ma+"_="+Object(na.uniqueId)();break;case !0:case y.a.CACHE:ca=ca+ma+"_="+ea.start+","+(Object(na.isUndefined)(ea.stop)?
"":ea.stop)}return ca};fa.prototype.XZ=function(ca,ea,ba,ma){void 0===ba&&(ba={});return new this.RB(ca,ea,ba,ma)};fa.prototype.ema=function(ca,ea,ba,ma,la){for(var ka=0;ka<e.length;ka++)if(Object(na.isEqual)(e[ka].range,ea)&&Object(na.isEqual)(e[ka].url,ca))return e[ka].Xh.push(ma),e[ka].iI++,null;for(ka=0;ka<b.length;ka++)if(Object(na.isEqual)(b[ka].range,ea)&&Object(na.isEqual)(b[ka].url,ca))return b[ka].Xh.push(ma),b[ka].iI++,null;ba={url:ca,range:ea,qF:ba,Xh:[ma],iI:1};if(0===e.length&&b.length<
this.dV)return b.push(ba),ba.request=this.XZ(ca,ea,la,this.withCredentials),ba;e.push(ba);return null};fa.prototype.Eq=function(ca,ea,ba){var ma=this.mz(ca,ea,this.qF);(ca=this.ema(ma,ea,this.qF,ba,this.ig))&&ca.request.start(Object(f.d)(ca));return function(){var la=Object(f.c)(ma,ea,b);if(-1!==la){var ka=--b[la].iI;0===ka&&b[la].request&&b[la].request.abort()}else la=Object(f.c)(ma,ea,e),-1!==la&&(ka=--e[la].iI,0===ka&&e.splice(la,1))}};fa.prototype.e1=function(){return{start:-ia.a}};fa.prototype.Gqa=
function(){var ca=-(ia.a+ia.e);return{start:ca-ia.d,end:ca}};fa.prototype.tw=function(ca){var ea=this;this.xF=!0;var ba=ia.a;this.Eq(this.url,this.e1(),function(ma,la,ka){function ra(){var qa=ea.me.b1();ea.Eq(ea.url,qa,function(sa,va){if(sa)return Object(oa.j)("Error loading central directory: "+sa),ca(sa);va=Object(ha.a)(va);if(va.length!==qa.stop-qa.start)return ca("Invalid XOD file: Zip central directory data is wrong size! Should be "+(qa.stop-qa.start)+" but is "+va.length);ea.me.o6(va);ea.cN=
!0;ea.xF=!1;return ca(!1)})}if(ma)return Object(oa.j)("Error loading end header: "+ma),ca(ma,la,ka);la=Object(ha.a)(la);if(la.length!==ba)return ca("Invalid XOD file: Zip end header data is wrong size!");try{ea.me=new ja.a(la)}catch(qa){return ca(qa)}ea.me.Dsa?ea.Eq(ea.url,ea.Gqa(),function(qa,sa){if(qa)return Object(oa.j)("Error loading zip64 header: "+qa),ca(qa);sa=Object(ha.a)(sa);ea.me.eta(sa);ra()}):ra()})};fa.prototype.G1=function(ca){ca(Object.keys(this.me.cq))};fa.prototype.XR=function(ca,
ea){var ba=this;if(this.me.MZ(ca)){var ma=this.me.$z(ca);if(ma in this.Ik){var la=this.xi[ca];la.bv=this.Ik[ma];la.bv.Lo++;la.cancel=la.bv.cancel}else{var ka=this.me.Goa(ca),ra=this.Eq(this.url,ka,function(sa,va){sa?(Object(oa.j)('Error loading part "'+ca+'": '+sa),ba.Eq(ba.url,ka,function(ya,Ja){if(ya)return ea(ya,ca);ba.s6(Ja,ka,ma,ca,ea)})):ba.s6(va,ka,ma,ca,ea)}),qa=this.xi[ca];qa&&(qa.c9=!0,qa.cancel=function(){qa.bv.Lo--;0===qa.bv.Lo&&(ra(),delete ba.Ik[ma])},this.Ik[ma]=new h(ma),qa.bv=this.Ik[ma],
qa.bv.cancel=qa.cancel)}}else delete this.xi[ca],ea(Error('File not found: "'+ca+'"'),ca)};fa.prototype.s6=function(ca,ea,ba,ma,la){if(ca.length!==ea.stop-ea.start)la(Error("Part data is wrong size!"),ma);else{do{if(!this.Ik[ba])return;ma=this.Ik[ba].Lo;for(var ka=ea.Ct.length,ra=0;ra<ka;++ra){var qa=ea.Ct[ra];la(!1,qa.yt,ca["string"===typeof ca?"substring":"subarray"](qa.start,qa.stop),this.me.e3(qa.yt));qa.yt in this.xi&&delete this.xi[qa.yt]}}while(ma!==this.Ik[ba].Lo);delete this.Ik[ba]}};fa.DISABLE_RANGE_HEADER=
!1;fa.dV=3;return fa}(wa.a);(function(aa){function fa(ca,ea,ba){var ma=aa.call(this)||this,la;for(la in ca)ma[la]=ca[la];ma.WGa=ca;ma.startOffset=ea;ma.endOffset=ba;ma.XZ=function(ka,ra,qa,sa){Object(na.isUndefined)(ra.stop)?(ra.start+=ma.endOffset,ra.stop=ma.endOffset):(ra.start+=ma.startOffset,ra.stop+=ma.startOffset);ka=ma.mz(ma.url,ra,ma.qF);return new ca.RB(ka,ra,qa,sa)};return ma}Object(pa.c)(fa,aa);return fa})(z);Object(r.a)(z);Object(r.b)(z);ta["default"]=z}}]);}).call(this || window)
